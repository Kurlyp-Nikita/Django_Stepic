{% extends 'base.html' %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/index.css' %}">

{% block content  %}
<h1>{{ title }}</h1>

{% include 'includs/nav.html' %}

<ul>
    {% for p in posts %}
        {% if p.is_published %}
            <li>
                <h2>{{ p.title }}</h2>
                {% autoescape off %}
                <p>{{ p.content|linebreaks|truncatewords:20 }}</p>
                {% endautoescape %}
                <p><a href="{% url 'post' p.id %}">Читать пост</a></p>
                {# forloop.last — это логическое значение, которое возвращает True, если это последняя итерация цикла. #}
                {# Может использоваться, например, для условного скрытия разделительной линии после последнего элемента в списке. #}
                {% if not forloop.last %}
                    <hr>
                {% endif %}
            </li>
        {% endif %}
    {% endfor %}
</ul>

{% endblock %}

